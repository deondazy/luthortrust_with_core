{% extends "layouts/dashboard.twig" %}

{% block title 'Edit Client | Admin'|title %}

{% block content %}

    <div class="col-lg-12">
        <form class="form-horizontal" method="post" action="{{ url_for('backend.client.update', {'user': client.id}) }}" enctype="multipart/form-data" autocomplete="off">
            <div class="panel panel-white">
                <div class="panel-heading">
                    <h5 class="panel-title">Edit Client</h5>
                </div>

                <div class="panel-body">
                    <!-- USERNAME -->
                    <div class="form-group {{ errors.username ? 'has-error' }}">
                        <label for="username" class="control-label col-lg-2">Username</label>
                        <div class="col-lg-10">
                            <input id="username" type="text" class="form-control" name="username" required value="{{ client.username }}">
                            <span class="help-block">{{ errors.username | first }}</span>
                        </div>
                    </div>

                    <!-- EMAIL -->
                    <div class="form-group {{ errors.email ? 'has-error' }}">
                        <label for="email" class="control-label col-lg-2">Email</label>
                        <div class="col-lg-10">
                            <input id="email" type="email" class="form-control" name="email" required value="{{ client.email }}">
                            <span class="help-block">{{ errors.email | first }}</span>
                        </div>
                    </div>

                    <!-- MOBILE NUMBER -->
                    <div class="form-group {{ errors.mobileNumber ? 'has-error' }}">
                        <label for="mobileNumber" class="control-label col-lg-2">Mobile number</label>
                        <div class="col-lg-10">
                            <input id="mobileNumber" type="tel" class="form-control" name="mobileNumber" required value="{{ client.mobileNumber }}">
                            <span class="help-block">{{ errors.mobileNumber | first }}</span>
                        </div>
                    </div>

                    <!-- FIRST NAME -->
                    <div class="form-group {{ errors.firstName ? 'has-error' }}">
                        <label for="firstName" class="control-label col-lg-2">First name</label>
                        <div class="col-lg-10">
                            <input id="firstName" type="text" class="form-control" name="firstName" required value="{{ client.firstName }}">
                            <span class="help-block">{{ errors.firstName | first }}</span>
                        </div>
                    </div>

                    <!-- MIDDLE NAME -->
                    <div class="form-group {{ errors.middleName ? 'has-error' }}">
                        <label for="middleName" class="control-label col-lg-2">Middle name <em>(optional)</em></label>
                        <div class="col-lg-10">
                            <input id="middleName" type="text" class="form-control" name="middleName" value="{{ client.middleName }}">
                            <span class="help-block">{{ errors.middleName | first }}</span>
                        </div>
                    </div>

                    <!-- LAST NAME -->
                    <div class="form-group {{ errors.lastName ? 'has-error' }}">
                        <label for="lastName" class="control-label col-lg-2">Last name</label>
                        <div class="col-lg-10">
                            <input id="lastName" type="text" class="form-control" name="lastName" required value="{{ client.lastName }}">
                            <span class="help-block">{{ errors.lastName | first }}</span>
                        </div>
                    </div>

                    <!-- GENDER -->
                    <div class="form-group {{ errors.gender ? 'has-error' }}">
                        <label for="gender" class="control-label col-lg-2">Gender</label>
                        <div class="col-lg-10">
                            <select id="gender" class="form-control" name="gender">
                                <option value="male" {% if client.gender == 'male' %}selected{% endif %}>Male</option>
                                <option value="female" {% if client.gender == 'female' %}selected{% endif %}>Female</option>
                            </select>
                            <span class="help-block">{{ errors.gender | first }}</span>
                        </div>
                    </div>

                    <!-- DATE OF BIRTH -->
                    <div class="form-group {{ errors.dateOfBirth ? 'has-error' }}">
                        <label for="dateOfBirth" class="control-label col-lg-2">Date of birth</label>
                        <div class="col-lg-10">
                            <input id="dateOfBirth" type="date" class="form-control" name="dateOfBirth" required value="{{ client.dateOfBirth|date('Y-m-d') }}">
                            <span class="help-block">{{ errors.dateOfBirth | first }}</span>
                        </div>
                    </div>

                    <!-- COUNTRY -->
                    <div class="form-group {{ errors.country ? 'has-error' }}">
                        <label for="country" class="control-label col-lg-2">Country</label>
                        <div class="col-sm-10">
                            <select id="country" class="form-control" name="country">
                                {% for country in countries %}
                                    <option value="{{ country.id }}" {% if client.country.id == country.id %}selected{% endif %}>{{ country.name }}</option>
                                {% endfor %}
                            </select>
                            <span class="help-block">{{ errors.country | first }}</span>
                        </div>
                    </div>

                    <!-- STATE -->
                    <div class="form-group {{ errors.state ? 'has-error' }}">
                        <label for="state" class="control-label col-lg-2">State</label>
                        <div class="col-lg-10">
                            <input id="state" type="text" class="form-control" name="state" required value="{{ client.state }}">
                            <span class="help-block">{{ errors.state | first }}</span>
                        </div>
                    </div>

                    <!-- CITY -->
                    <div class="form-group {{ errors.city ? 'has-error' }}">
                        <label for="city" class="control-label col-lg-2">City</label>
                        <div class="col-lg-10">
                            <input id="city" type="text" class="form-control" name="city" required value="{{ client.city }}">
                            <span class="help-block">{{ errors.city | first }}</span>
                        </div>
                    </div>

                    <!-- ADDRESS -->
                    <div class="form-group {{ errors.address ? 'has-error' }}">
                        <label for="address" class="control-label col-lg-2">Address</label>
                        <div class="col-lg-10">
                            <input id="address" type="text" class="form-control" name="address" required value="{{ client.address }}">
                            <span class="help-block">{{ errors.address | first }}</span>
                        </div>
                    </div>

                    <!-- PASSPORT PHOTO -->
                    <div class="form-group {{ errors.passportPhoto ? 'has-error' }}">
                        <label for="passportPhoto" class="control-label col-lg-2">Passport Photo</label>
                        <div class="col-lg-10">
                            <input type="hidden" name="MAX_FILE_SIZE" value="5242880">
                            <input id="passportPhoto" name="passportPhoto" type="file" class="form-control" accept="image/*">
                            <span class="help-block">{{ errors.passportPhoto | first }}</span>
                        </div>
                    </div>
                </div>

                <hr class="no-margin" />
                <div class="panel-heading">
                    <h5 class="panel-title">Outward Transfer Options</h5>
                </div>

                <div class="panel-body">
                    <!-- REQUIRE COT CODE -->
                    <div class="mb-20">
                        <div class="checkbox {{ errors.requireCot ? 'has-error' }}">
                            <label for="requireCot" class="control-label col-lg-12">
                                <input id="requireCot" type="checkbox" name="requireCot" class="" {% if client.requireCot %}checked{% endif %}>
                                Require COT Code?
                            </label>
                            <div class="help-block">{{ errors.requireCot | first }}</div>
                        </div>
                    </div>

                    <!-- REQUIRE IMF CERTIFICATE CODE -->
                    <div class="mb-20 {{ errors.requireImf ? 'has-error' }}">
                        <div class="checkbox">
                            <label for="requireImf" class="control-label col-lg-12">
                                <input id="requireImf" type="checkbox" name="requireImf" class="" {% if client.requireImf %}checked{% endif %}>
                                Require IMF certificate Code?
                            </label>
                            <div class="help-block">{{ errors.requireImf | first }}</div>
                        </div>
                    </div>

                    <!-- REQUIRE TAX CODE -->
                    <div class="mb-20 {{ errors.requireTax ? 'has-error' }}">
                        <div class="checkbox">
                            <label for="requireTax" class="control-label col-lg-12">
                                <input id="requireTax" type="checkbox" name="requireTax" class="" {% if client.requireTax %}checked{% endif %}>
                                Require Tax Code?
                            </label>
                            <div class="help-block">{{ errors.requireTax | first }}</div>
                        </div>
                    </div>

                    <button class="btn btn-primary pull-right" type="submit">Update Client</button>
                </div>
            </div>
        </form>
    </div>

{% endblock %}
